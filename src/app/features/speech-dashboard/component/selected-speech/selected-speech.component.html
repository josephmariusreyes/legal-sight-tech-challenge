<div class="selected-speech flex-fill d-flex flex-column p-4" [formGroup]="speechFormGroup">
    <div class="content-section flex-fill d-flex flex-column">
        <h5 class="mb-3 fw-bold">Title <span class="text-danger">*</span></h5>
        <input type="text" id="title" 
               class="form-control mb-2" 
               [class.is-invalid]="isFieldInvalid('title')"
               [class.is-valid]="isFieldValid('title')"
               placeholder="Title" 
               formControlName="title">
        @if (isFieldInvalid('title')) {
          <div class="invalid-feedback d-block mb-3">
            {{ getFieldError('title') }}
          </div>
        } @else {
          <div class="mb-3"></div>
        }

        <h5 class="mb-3 fw-bold">Content <span class="text-danger">*</span></h5>
        <div class="position-relative">
          <p-editor formControlName="content" 
                    styleClass="form-control flex-fill mb-2 bg-white"
                    [class.is-invalid]="isFieldInvalid('content')"
                    [class.is-valid]="isFieldValid('content')"
                    [style]="{height: '200px'}" 
                    placeholder="Speech content shown here"></p-editor>
          @if (isFieldInvalid('content')) {
            <div class="invalid-feedback d-block mb-3">
              {{ getFieldError('content') }}
            </div>
          } @else {
            <div class="mb-3"></div>
          }
        </div>

        <div class="form-fields">
            <div class="row g-3 align-items-start">
                <div class="col-md-4 h-100 d-flex flex-column">
                    <label for="author" class="form-label small fw-medium text-muted">Author <span class="text-danger">*</span></label>
                    <input type="text" id="author" 
                           class="form-control mb-2" 
                           [class.is-invalid]="isFieldInvalid('author')"
                           [class.is-valid]="isFieldValid('author')"
                           placeholder="Author" 
                           formControlName="author">
                    @if (isFieldInvalid('author')) {
                      <div class="invalid-feedback d-block">
                        {{ getFieldError('author') }}
                      </div>
                    }
                </div>
                <div class="col-md-4 h-100 d-flex flex-column">
                    <label for="subject" class="form-label small fw-medium text-muted">Subject area keywords</label>
                    <div class="input-group">
                        <input type="text" id="subject-area-keyword" class="form-control" placeholder="Subject area keywords" formControlName="newSubjectAreaKeywords">
                        <button type="button" class="btn btn-outline-primary"
                            (click)="onAddSubjectAreaKeyword()">Add</button>
                    </div>
                    <div class="current-subject-area-keywords mt-2">
                        @for (keyword of subjectAreaKeywords; let i = $index; track keyword) {
                        <span class="badge bg-primary me-2 mb-1 d-inline-flex align-items-center">
                            {{ keyword }}
                            <button type="button" class="btn-close btn-close-white btn-sm ms-2" aria-label="Remove"
                                (click)="onRemoveSubjectAreaKeyword(i)"></button>
                        </span>
                        }
                    </div>
                </div>
                <div class="col-md-4 h-100 d-flex flex-column">
                    <label for="date" class="form-label small fw-medium text-muted">Created Date</label>
                    <input type="text" id="date" class="form-control bg-white text-secondary"
                        formControlName="createdDate" readonly>
                </div>
            </div>
        </div>
    </div>
</div>